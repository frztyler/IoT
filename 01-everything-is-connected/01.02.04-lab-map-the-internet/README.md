
---

> **ВАЖНО**
> 
> Форма для ответов на вопросы будет доступна только при развертывании лабораторной работы 

---

## Задачи

Часть 1: Определение сетевого подключения к целевой хост-системе

Часть 2: Трассировка маршрута к удаленному серверу с помощью команды tracert

## Общие сведения и сценарий

Компьютерное программное обеспечение для трассировки маршрутов составляет список сетей, по которым данные проходят от исходного конечного устройства пользователя к удаленному устройству назначения.

Этот сетевой инструмент обычно выполняется в командной строке как:

```
tracert <имя сети назначения или адрес конечного устройства>
```

(Системы Microsoft Windows)

Или

```
traceroute <имя сети назначения или адрес конечного устройства>
```

(системы UNIX, Linux и устройства Cisco, такие как коммутаторы и маршрутизаторы)

Как **tracert**, так и **traceroute** определяют маршрут, используемый пакетами по IP-сети.

Инструмент **tracert** (или **traceroute**) часто используется для поиска и устранения неисправностей в сети. Показывая список маршрутизаторов, через которые прошел пакет, пользователь может определить маршрут, по которому он достиг определенного пункта назначения в сети или между сетями. Каждый маршрутизатор представляет точку, в которой одна сеть подключается к другой сети и через которую был переадресован пакет данных. Количество маршрутизаторов известно как число переходов пакета от источника к адресату.

Отображаемый список может помочь определить проблемы с потоком данных при попытке доступа к службе, например к такой, как веб-сайт. Он также может быть полезен при выполнении таких задач, как загрузка данных. Если для одного файла данных доступно несколько веб-сайтов (зеркал), можно отследить каждое зеркало, чтобы понять, какое зеркало будет наиболее быстрым.

Средства трассировки маршрутов на основе командной строки обычно встроены в операционную систему конечного устройства. Это действие должно выполняться на компьютере с доступом в Интернет и доступом к командной строке.

## Требуемые ресурсы

Компьютер с доступом в Интернет

## Инструкции

### Часть 1: Определение сетевого подключения к целевой хост-системе

Для отслеживания маршрута к удаленной сети, компьютер, который вы используете, должен иметь рабочее подключение к Интернету. Используйте команду **ping** для проверки доступности узла. Пакеты информации отправляются удаленному узлу с инструкциями для ответа. Локальный компьютер измеряет, был ли получен ответ на каждый пакет, и сколько времени занимает передача этих пакетов по сети.

1. В командной строке введите **ping www.cisco.com**, чтобы определить, доступен ли он.

```
C:\> ping www.cisco.com
```


```
Pinging e2867.dsca.akamaiedge.net [104.119.64.57] with 32 bytes of data:
Reply from 104.119.64.57: bytes=32 time=22ms TTL=55
Reply from 104.119.64.57: bytes=32 time=20ms TTL=55
Reply from 104.119.64.57: bytes=32 time=21ms TTL=55
Reply from 104.119.64.57: bytes=32 time=20ms TTL=55

Ping statistics for 104.119.64.57:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 20ms, Maximum = 22ms, Average = 20ms 
```

2. Теперь пропингуйте на один из сайтов регионального интернет-регистратора (RIR), расположенных в разных частях мира, чтобы определить, доступен ли он:

    Африка:                 www.afrinic.net

    Австралия:             www.apnic.net

    Европа:               www.ripe.net

    Южная Америка:    www.lacnic.net

    Северная Америка:     www.arin.net

    Выбранный веб-сайт будет использоваться во второй части для использования с командой tracert.

### Часть 2: Трассировка маршрута к удаленному серверу с помощью команды tracert

После определения доступности выбранных веб-сайтов с помощью команды **ping** используйте команду **tracert** для определения маршрута до удаленного сервера. Полезно более подробно рассмотреть каждый сегмент сети, через который проходят пакеты.

Команда **tracert** покажет маршруты, которые пакеты проходят при переходе к конечному месту назначения. Компьютер отправляет на удаленный хост три пакета эхо-запросов ICMP (протокол управляющих сообщений Интернета). Каждый маршрутизатор на пути уменьшает время жизни (TTL) на 1 и передает получаемый результат в следующую систему. Когда значение TTL достигает 0, маршрутизатор посылает ICMP-сообщение Time Exceeded (превышено время) обратно источнику с его IP-адресом и текущим временем. Когда конечное место назначения достигнуто, на узел источника отправляется эхо-ответ ICMP.

Например, узел-источник отправляет три пакета эхо-запросов ICMP на первый узел (192.168.1.1) со значением TTL, равным 1. Когда маршрутизатор 192.168.1.1 получает пакеты эхо-запросов, он уменьшает значение TTL до 0. Маршрутизатор посылает обратно источнику ICMP-сообщение о превышении времени. Этот процесс продолжается до тех пор, пока узлы-источники не отправят последние три пакета эхо-запросов ICMP со значениями TTL 8 (число прыжков 8 в выходных данных ниже), которые являются конечным назначением. После того, как пакеты эхо-запросов ICMP поступают в конечное место назначения, маршрутизатор отвечает на источник эхо-ответами ICMP.

Для переходов 2 и 3 эти IP-адреса являются частными адресами. Эти маршрутизаторы являются типичной настройкой для точки присутствия (POP) bнтернет-провайдера. Устройства POP подключают пользователей к сети bнтернет-провайдера.

Веб-инструмент whois можно найти по адресу http://whois.domaintools.com/. Он используется для определения доменов, пройденных из источника в место назначения. 

1. В командной строке выполните трассировку маршрута к www.cisco.com.

```
C:\Users\User1> **tracert www.cisco.com**
```

```
Tracing route to e144.dscb.akamaiedge.net [23.67.208.170]
over a maximum of 30 hops:
  1     1 ms    <1 ms    <1 ms  192.168.1.1
  2    14 ms     7 ms     7 ms  10.39.0.1
  3    10 ms     8 ms     7 ms  172.21.0.118
  4    11 ms    11 ms    11 ms  70.169.73.196
  5    10 ms     9 ms    11 ms  70.169.75.157
  6    60 ms    49 ms     *     68.1.2.109
  7    43 ms    39 ms    38 ms  Equinix-DFW2.netarch.akamai.com [206.223.118.102]
  8    33 ms    35 ms    33 ms  a23-67-208-170.deploy.akamaitechnologies.com [23.67.208.170]
 
Trace complete.
```

2. Веб-инструмент на http://whois.domaintools.com/ можно использовать для определения владельцев IP-адреса и доменных имен, показанных инструментом tracert. Теперь выполните трассировку на одном из веб-сайтов RIR из первой части задания и сохраните результаты.

    Африка:                 www.afrinic.net
    Австралия:             www.apnic.net
    Европа:               www.ripe.net
    Южная Америка:    www.lacnic.net
    Северная Америка:     www.arin.net

* ответьте на вопрос №1

3. Сравните списки доменов, через которые прошли пакеты для достижения конечных мест назначений.

## Размышления 

* ответьте на вопрос №2

